<div class="mt-4" *ngIf="appUser">
    <div class="row">
        <div class="col">
            <h1>Profile ({{ appUser.firstName }} {{appUser.lastName}})</h1>
        </div>
        <div class="col">
            <div *ngIf="editForm.dirty" class="alert alert-info">
                <strong>Information:</strong> You have made changes. Any unsaved changes
                will be lost!
            </div>
        </div>
    </div>

    <mat-tab-group>
        <mat-tab label="Details">
            <div class="col">
                <div>
                    <strong>Name: </strong>
                    {{ appUser.firstName }} {{appUser.lastName}} <i>[{{appUser.gender}}]</i>
                </div>
                <div>
                    <strong>DOB:</strong>
                    {{ appUser.dateOfBirth | date:'dd MMMM yyyy' }}
                </div>
                <div>
                    <strong>Title:</strong>
                    {{ appUser.title }}
                </div>
                <div>
                    <strong>Experience:</strong>
                    {{appUser.experience}} years
                </div>
                <div>
                    <strong>Email:</strong>
                    {{ appUser.email }}
                </div>
                <div>
                    <strong>Phone:</strong>
                    {{ appUser.phoneNumber }}
                </div>
            </div>
        </mat-tab>

        <mat-tab label="Edit">
            <div class="col-6">
                <form #editForm="ngForm" id="editForm" (ngSubmit)="updateUserDetails()" class="mt-2">


                    <div class="row">
                        <div class="col">
                            <div class="form-group">
                                <label>First Name</label>
                                <input type="text" class="form-control" name="firstName"
                                    [(ngModel)]="appUser.firstName">
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group">
                                <label>Last Name</label>
                                <input type="text" class="form-control" name="lastName" [(ngModel)]="appUser.lastName">
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group">
                                <label>Gender</label>
                                <input type="text" class="form-control" name="gender" [(ngModel)]="appUser.gender">
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                            <div class="form-group">
                                <label>Title</label>
                                <input type="text" class="form-control" name="title" [(ngModel)]="appUser.title">
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group">
                                <label>Email</label>
                                <input type="email" class="form-control" name="email" [(ngModel)]="appUser.email">
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group">
                                <label>Phone Number</label>
                                <input type="text" class="form-control" name="phoneNumber"
                                    [(ngModel)]="appUser.phoneNumber">
                            </div>
                        </div>
                    </div>

                    <div class="mt-2">
                        <button [disabled]="!editForm.dirty" form="editForm" class="btn btn-success">
                            Save changes
                        </button>
                    </div>

                </form>
            </div>

            <div *ngIf="editForm.dirty" class="mt-2">
                <button class="btn btn-warning " (click)="cancelChanges()">
                    Cancel changes
                </button>
            </div>

        </mat-tab>
    </mat-tab-group>

</div>